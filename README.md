# 專題-沖壓裁切機收料系統
※透過C#撰寫的機台程式碼屬於實驗室財產無法開源

該專題與機械系合作，他們對既有的機台增設透過PLC控制的收料模組，而我負責讓控制機台的工業電腦透過Socket與PLC進行資料交握，並針對不同的收料情境控制機台。

該系統會牽涉到三個物件，機台/收料模組、工業電腦、PLC。
 * 機台/收料模組: 該機台是由廠商提供的商用裁切機主要用於製鞋產業，後來開發了收料模組希望能減少工安意外並降低人事成本。
 * 工業電腦: 工業電腦控制所有機台的作動並作為所有行為的主控。
 * PLC: 負責電動缸、氣壓缸、吸盤的控制，並根據床台位置判斷收料的情境。

# 裁切收料流程
當我們從控制介面選取要裁切物件並執行後，會先將右圖的排版檔透過Socket傳給PLC，讓兩邊都知道哪些位置為要裁切物件。

![image](https://user-images.githubusercontent.com/88305396/152675415-9798f6f8-178d-4214-9534-b274754d3bb5.png)

然後就會進入裁切收料流程
 * 工業電腦: 在床台移至裁切座標後，會將當前的座標傳送給PLC，待單列裁切完成後，再依據不同的收料情境控制機台。
 * PLC: 在接收到當前的床台座標後，會依據下一列要裁切物件位置判斷收料情境，並且回傳訊號。

![](https://user-images.githubusercontent.com/88305396/152679925-cb1cad0a-728e-4cae-9e91-a6f0c269c31f.png)

# 4種收料情境
 * 收料: 當裁切沖頭移至欲裁切位置，同時裁切完成品中心點座標進入取料區。
![收料](https://user-images.githubusercontent.com/88305396/152682787-4c662308-d4bd-4a92-974d-a3fa53560d86.png)
 * 收料完成: 版面皆裁切完成，收料模組將每片裁切完成品吸取至輸送帶。
![收料完成](https://user-images.githubusercontent.com/88305396/152685597-bce02460-e667-4658-ad1a-e32758b674ec.png)
 * 不收料: 當裁切進度尚未將裁切完成品推入取料區，收料模組在原點等待，裁切機依照版面裁切。
![不收料](https://user-images.githubusercontent.com/88305396/152683212-22c12222-4e71-463e-b676-014c84a054d8.png)
 * 暫停裁切先收料: 假設皮料中間有缺陷，僅選取前後端裁切，當移動距離過大，將導致裁切完成品被推出取料區，因此先暫停裁切移動到PLC給的座標進行收料再進行裁切。
![暫停裁切先收料](https://user-images.githubusercontent.com/88305396/152683313-109075db-012d-4936-8795-f7b9b46db644.png)

# 裁切收料展示

https://user-images.githubusercontent.com/88305396/152672977-e1bb2d31-b1fd-4755-ac21-67b272eddb13.mp4
